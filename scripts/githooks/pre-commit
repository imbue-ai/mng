#!/bin/bash
#
# This script uses uv to call pre-commit to run hooks on files about to be committed.
#
# Why not use `pre-commit install` directly?
# `pre-commit install` depends on the system Python version, whose packages may
# not be kept up-to-date. Using uv ensures consistent dependency management.
#
HERE=$(cd "$(dirname "$0")" && pwd)

# Run pre-commit through uv (last command so return code propagates to git)
uv run pre-commit hook-impl --config=.pre-commit-config.yaml --hook-type=pre-commit --hook-dir "$HERE" -- "$@"
